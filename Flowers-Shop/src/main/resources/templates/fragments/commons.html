<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ОРХИДЕЯ</title>
  <link rel="icon" href="/images/orchid_9704101.png" type="image/icon type">
  <link rel="stylesheet" href="/css/reset-css.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<header >
  <nav>
<!--    TODO: new nav layout when items are hidden-->
    <ul>
      <li>
        <img src="/images/orchid_9704101.png" alt="orchid">
        <a sec:authorize="isAuthenticated()" th:href="@{/home}">Orchid app</a>
        <a sec:authorize="!isAuthenticated()" th:href="@{/}">Orchid app</a>
      </li>
      <li sec:authorize="hasRole('ROLE_ADMIN')">
        <a class="bn5" th:href="@{/bouquet/add}">Add Bouquet</a>
      </li>
      <li sec:authorize="isAuthenticated()">
        <a class="bn5" th:href="@{/home}">Gallery</a>
      </li>

      <li sec:authorize="isAuthenticated()">
        <span class="text-white">Welcome, </span>
        <span class="text-white" sec:authentication="name">Anonymous</span>
      </li>
      <li sec:authorize="!isAuthenticated()">
        <a class="bn5" th:href="@{/login}" th:text="#{nav_bar_login}">Login</a>
      </li>
      <li sec:authorize="!isAuthenticated()">
        <a class="bn5" th:href="@{/register}" th:text="#{nav_bar_register}">Register</a>
      </li>
      <li sec:authorize="isAuthenticated()">
        <a class="bn5" th:href="@{/orders}">My orders</a>
      </li>
      <li sec:authorize="isAuthenticated()">
        <form th:action="@{/logout}" th:method="post">
          <button type="submit" class="text-white bg-black bn5" th:text="#{nav_bar_logout}">Logout</button>
        </form>
      </li>
      <li>
        <form >
          <label class="text-white" for="lang" th:text="#{nav_bar_language}">Language</label>
          <select id="lang" name="lang" onchange="this.form.submit()">
            <option value="en_EN" th:selected="${#locale.toString()} == 'en_US'">EN</option>
            <option value="bg_BG" th:selected="${#locale.toString()} == 'bg_BG'">BG</option>
          </select>
        </form>
      </li>
      <li sec:authorize="isAuthenticated()">
        <a class="bn5" th:href="@{/cart}">
<!--          TODO: show the number of products in the cart-->
          <img src="/images/shopping-cart.png" alt="cart">
        </a>
      </li>
    </ul>
  </nav>
</header>
<footer>
  <!-- todo: fix responsive issue with position-fixed -->
  <div>&copy Ivan Rusenov 2024</div>
</footer>

</body>
</html>